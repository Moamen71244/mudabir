<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>مدبّر | الرئيسية</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css"
      rel="stylesheet"
    />
    <!-- Icon sets -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Premium Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="CSS/index.css" />
    <!-- Visual Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body data-theme="light">
    <!-- Loader -->
    <div id="loader">
      <div
        class="spinner-border text-primary"
        style="width: 3rem; height: 3rem"
        role="status"
      >
        <span class="visually-hidden">جاري التحميل...</span>
      </div>
    </div>

    <div class="d-flex">
      <!-- Premium Sidebar -->
      <aside class="sidebar d-flex flex-column p-2">
        <div
          class="d-flex align-items-center justify-content-between mb-5 mt-4 px-4"
        >
          <div class="d-flex align-items-center">
            <div
              class="bg-primary rounded-circle p-2 text-white me-3 shadow-lg"
            >
              <i class="fa-solid fa-coins fa-lg"></i>
            </div>
            <div class="nav-text">
              <h4 class="mb-0 fw-bold">مدبّر</h4>
              <span class="text-secondary small">Financial Manager</span>
            </div>
          </div>
          <button class="btn btn-light d-lg-none" onclick="toggleSidebar()">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>

        <nav class="nav nav-pills flex-column mb-auto">
          <a href="index.html" class="nav-link active">
            <i class="fa-solid fa-house"></i>
            <span class="nav-text">الرئيسية</span>
          </a>
          <a href="transactions.html" class="nav-link">
            <i class="fa-solid fa-arrow-right-arrow-left"></i>
            <span class="nav-text">المعاملات</span>
          </a>
          <a href="budgets.html" class="nav-link">
            <i class="fa-solid fa-pie-chart"></i>
            <span class="nav-text">الميزانيات</span>
          </a>
          <a href="savings.html" class="nav-link">
            <i class="fa-solid fa-piggy-bank"></i>
            <span class="nav-text">المدخرات</span>
          </a>
          <a href="bills.html" class="nav-link">
            <i class="fa-solid fa-file-invoice-dollar"></i>
            <span class="nav-text">الفواتير</span>
          </a>
        </nav>

        <div class="mt-auto p-4 nav-text border-top border-light">
          <div class="d-flex align-items-center gap-3">
            <img
              src="https://ui-avatars.com/api/?name=User&background=4f46e5&color=fff"
              class="rounded-circle shadow-sm"
              width="35"
              alt="Profile"
            />
            <div>
              <p class="mb-0 fw-bold small">مؤمن احمد</p>
              <span class="text-secondary" style="font-size: 0.7rem"
                >حساب ذهبي</span
              >
            </div>
          </div>
        </div>
      </aside>

      <!-- Main Content Area -->
      <main class="flex-grow-1 p-lg-5 p-4 main-content">
        <header
          class="d-flex justify-content-between align-items-center mb-5 card border-0 p-3 shadow-soft flex-row glass"
        >
          <div class="d-flex align-items-center">
            <button
              id="sidebar-toggle"
              class="btn btn-light rounded-circle me-3 p-2 d-lg-none"
            >
              <i class="fa-solid fa-bars"></i>
            </button>
            <h3 class="mb-0 fw-bold">لوحة القيادة</h3>
          </div>
          <div class="d-flex align-items-center gap-3">
            <button
              id="theme-toggle"
              class="btn btn-light rounded-circle shadow-sm p-2 w-40 h-40"
            >
              <i class="fa-solid fa-moon"></i>
            </button>
            <div class="dropdown">
              <button
                class="btn btn-light rounded-circle shadow-sm p-2 position-relative"
              >
                <i class="fa-solid fa-bell"></i>
                <span
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  style="font-size: 0.5rem"
                  >3+</span
                >
              </button>
            </div>
          </div>
        </header>

        <!-- Premium Grid System -->
        <div class="row g-4 mb-5">
          <div class="col-xl-4 col-md-6">
            <div class="card card-balance p-4 border-0 h-100">
              <p class="text-secondary mb-2">إجمالي الرصيد المتوفر</p>
              <h2 class="fw-bold balance-val mb-3">0.00 جنية</h2>
              <div class="d-flex align-items-center gap-2 small">
                <span class="bg-white bg-opacity-20 px-2 py-1 rounded-pill">
                  <i class="fa-solid fa-arrow-trend-up"></i> +12%
                </span>
                <span>نمو هذا الشهر</span>
              </div>
            </div>
          </div>
          <div class="col-xl-4 col-md-6">
            <div class="card p-4 border-0 h-100 glass">
              <div
                class="d-flex justify-content-between align-items-start mb-3"
              >
                <div>
                  <p class="text-secondary mb-1">إجمالي الدخل</p>
                  <h3 class="fw-bold text-success income-val mb-0">
                    0.00 جنية
                  </h3>
                </div>
                <div
                  class="bg-success bg-opacity-10 p-3 rounded-circle text-success"
                >
                  <i class="fa-solid fa-wallet fa-lg"></i>
                </div>
              </div>
              <div class="progress" style="height: 6px">
                <div class="progress-bar bg-success" style="width: 85%"></div>
              </div>
            </div>
          </div>
          <div class="col-xl-4 col-md-12">
            <div class="card p-4 border-0 h-100 glass">
              <div
                class="d-flex justify-content-between align-items-start mb-3"
              >
                <div>
                  <p class="text-secondary mb-1">إجمالي المصاريف</p>
                  <h3 class="fw-bold text-danger expense-val mb-0">
                    0.00 جنية
                  </h3>
                </div>
                <div
                  class="bg-danger bg-opacity-10 p-3 rounded-circle text-danger"
                >
                  <i class="fa-solid fa-credit-card fa-lg"></i>
                </div>
              </div>
              <div class="progress" style="height: 6px">
                <div class="progress-bar bg-danger" style="width: 65%"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Enhanced Visualization Section -->
        <div class="row g-4 mb-5">
          <div class="col-lg-8">
            <div class="card p-4 border-0 h-100 glass">
              <div
                class="d-flex justify-content-between align-items-center mb-5"
              >
                <h5 class="fw-bold mb-0">التحليل المالي السنوي</h5>
                <button class="btn btn-sm btn-light rounded-pill px-3">
                  تصدير التقرير
                </button>
              </div>
              <div style="height: 350px"><canvas id="mainChart"></canvas></div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card p-4 border-0 h-100 glass">
              <h5 class="fw-bold mb-4">أحدث العمليات</h5>
              <div id="activities-container" class="d-flex flex-column gap-4">
                <!-- Dynamically populated -->
              </div>
            </div>
          </div>
        </div>

        <!-- Budget Progress -->
        <div class="row g-4">
          <div class="col-12">
            <div class="card p-4 border-0 glass">
              <div
                class="d-flex justify-content-between align-items-center mb-4"
              >
                <div>
                  <h5 class="fw-bold mb-1">تتبع الميزانية الشهرية</h5>
                  <p class="text-secondary small mb-0">
                    مراقبة حدود الإنفاق الذكي
                  </p>
                </div>
                <a href="budgets.html" class="btn btn-primary btn-sm"
                  >تعديل الأهداف</a
                >
              </div>
              <div class="row g-4">
                <div class="col-md-5">
                  <div style="height: 250px">
                    <canvas id="pieChart"></canvas>
                  </div>
                </div>
                <div class="col-md-7 d-flex flex-column justify-content-center">
                  <div class="p-3 mb-3 bg-light rounded-4 border">
                    <div class="d-flex justify-content-between mb-2">
                      <span class="fw-bold">المشتريات الغذائية والمنزلية</span>
                      <span class="text-primary fw-bold">75%</span>
                    </div>
                    <div
                      class="progress"
                      style="height: 10px; border-radius: 10px"
                    >
                      <div
                        class="progress-bar bg-primary"
                        style="width: 75%"
                      ></div>
                    </div>
                  </div>
                  <div class="p-3 bg-light rounded-4 border">
                    <div class="d-flex justify-content-between mb-2">
                      <span class="fw-bold">الترفيه والمناسبات</span>
                      <span class="text-warning fw-bold">40%</span>
                    </div>
                    <div
                      class="progress"
                      style="height: 10px; border-radius: 10px"
                    >
                      <div
                        class="progress-bar bg-warning"
                        style="width: 40%"
                      ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="JS/main.js"></script>
  </body>
</html>
